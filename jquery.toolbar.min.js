/**
 * Toolbar.js
 *
 * @fileoverview  jQuery plugin that creates tooltip style toolbars.
 * @link          http://paulkinzett.github.com/tooltip-toolbar/
 * @author        Paul Kinzett (http://kinzett.co.nz/)
 * @version       1.0.2
 * @requires      jQuery 1.7+
 *
 * @license jQuery Toolbar Plugin v1.0.2
 * http://paulkinzett.github.com/tooltip-toolbar/
 * Copyright 2013 Paul Kinzett (http://kinzett.co.nz/)
 * Released under the MIT license.
 * <https://raw.github.com/paulkinzett/tooltip-toolbar/master/LICENSE.txt>
 */
if(typeof Object.create!=="function"){Object.create=function(b){function a(){}a.prototype=b;return new a()}}(function(d,c,b,e){var a={init:function(g,h){var f=this;f.elem=h;f.$elem=d(h);f.options=d.extend({},d.fn.toolbar.options,g);f.toolbar=d('<div class="tool-container gradient" />').addClass("tool-"+f.options.position).addClass("tool-rounded").append('<div class="tool-items" />').append('<div class="arrow" />').appendTo("body").css("opacity",0).hide();f.initializeToolbar()},initializeToolbar:function(){var f=this;f.populateContent();f.setTrigger()},setTrigger:function(){var f=this;f.$elem.on("click",function(g){g.preventDefault();g.stopPropagation();if(f.$elem.hasClass("pressed")){f.hide()}else{f.show()}});d(c).resize(function(g){g.stopPropagation();css=f.getCoordinates(f.options.position,20);f.toolbar.stop().animate(css)})},populateContent:function(){var g=this;var f=g.toolbar.find(".tool-items");var h=d(g.options.content).clone(true).find("a").addClass("tool-item gradient");f.html(h);f.find(".tool-item").click(function(i){i.preventDefault();g.$elem.trigger("toolbaritemclick",this)})},calculatePosition:function(){var f=this;css=f.getCoordinates(f.options.position,0);css.position="absolute";css.zIndex=f.options.zIndex;f.toolbar.css(css)},getCoordinates:function(f,h){var g=this;g.coordinates=g.$elem.offset();switch(g.options.position){case"top":return{left:g.coordinates.left-(g.toolbar.width()/2)+(g.$elem.width()/2),top:g.coordinates.top-g.$elem.height()-h};case"left":return{left:g.coordinates.left-(g.toolbar.width()/2)-(g.$elem.width()/2)-h,top:g.coordinates.top-(g.toolbar.height()/2)+(g.$elem.height()/2)};case"right":return{left:g.coordinates.left+(g.toolbar.width()/2)+(g.$elem.width()/3)+h,top:g.coordinates.top-(g.toolbar.height()/2)+(g.$elem.height()/2)};case"bottom":return{left:g.coordinates.left-(g.toolbar.width()/2)+(g.$elem.width()/2),top:g.coordinates.top+g.$elem.height()+h}}},show:function(){var f=this;f.$elem.addClass("pressed");f.calculatePosition();var g={opacity:1};switch(f.options.position){case"top":g.top="-=20";break;case"left":g.left="-=20";break;case"right":g.left="+=20";break;case"bottom":g.top="+=20";break}f.bindHideEvent();f.toolbar.show().animate(g,200);f.$elem.trigger("toolbarshown")},bindHideEvent:function(){var f=this;var g="click.toolbar";if(f.options.hideOnClick){d("html").off(g).on(g,function(h){if(f.toolbar.has(h.target).length===0){f.hide()}})}},hide:function(){var f=this;f.$elem.removeClass("pressed");var g={opacity:0};switch(f.options.position){case"top":g.top="+=20";break;case"left":g.left="+=20";break;case"right":g.left="-=20";break;case"bottom":g.top="-=20";break}f.toolbar.animate(g,200,function(){f.toolbar.hide()});f.$elem.trigger("toolbarhidden")}};d.fn.toolbar=function(f){return this.each(function(){var g=Object.create(a);g.init(f,this)})};d.fn.toolbar.options={content:"#myContent",position:"top",hideOnClick:false,zIndex:120}})(jQuery,window,document);